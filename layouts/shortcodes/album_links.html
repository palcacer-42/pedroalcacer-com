{{ $id := .Get "id" | default "luis-milan" }}
{{ $album := index .Site.Data.albums $id }}
{{ if $album }}
<div class="album-card">
  <div class="album-card__meta">
    <h3 class="album-card__title">{{ $album.title }}</h3>
    {{ with $album.year }}<span class="album-card__year">{{ . }}</span>{{ end }}
  </div>

  <ul class="album-links">
    {{ range $k, $v := $album.links }}
      <li class="album-link-item">
        <a class="album-link-button" href="{{ $v }}" target="_blank" rel="noopener">
          {{ if eq $k "spotify" }}
            <svg class="icon" viewBox="0 0 168 168" aria-hidden="true" role="img"><path fill="#1ED760" d="M84 0a84 84 0 1 0 0 168A84 84 0 0 0 84 0zm38.1 121.2a5.6 5.6 0 0 1-7.7 1.9c-21-12.8-47.4-15.7-78.4-8-2.8.8-5.7-.9-6.5-3.6s.9-5.7 3.6-6.5c33.9-9.4 63.6-6 87.2 9.6a5.6 5.6 0 0 1 1.8 7.6zM126.6 95.7c-1 1.5-2.9 2-4.4 1.1-24-13.6-60.7-17.5-88.8-8.9-1.9.6-3.9-.4-4.6-2.3-.6-1.9.4-3.9 2.3-4.6 31.2-9.6 70-5.3 96.3 10.3 1.5.8 2 2.8 1.2 4.4zM127 71c-1.3 1.9-3.8 2.4-5.6 1.1-27.3-18-73-19.6-99-10.1-2 .7-4.2-.3-4.9-2.3-.7-2 .3-4.2 2.3-4.9 30.9-10.7 80.3-9 111.1 11.4 1.9 1.2 2.5 3.9 1.1 5.8z"></path></svg>
          {{ else if eq $k "deezer" }}
            <svg class="icon" viewBox="0 0 24 24" aria-hidden="true" role="img"><path fill="#0072CE" d="M1 12h22v2H1z"/></svg>
          {{ else if eq $k "tidal" }}
            <svg class="icon" viewBox="0 0 24 24" aria-hidden="true" role="img"><path fill="#0ABAB5" d="M2 12h20v2H2z"/></svg>
          {{ else if eq $k "bandcamp" }}
            <svg class="icon" viewBox="0 0 24 24" aria-hidden="true" role="img"><path fill="#629AA9" d="M2 12h20v2H2z"/></svg>
          {{ else if eq $k "youtube" }}
            <svg class="icon" viewBox="0 0 24 24" aria-hidden="true" role="img"><path fill="#FF0000" d="M23.5 6.2s-.2-1.6-.8-2.3c-.8-.9-1.7-.9-2.1-1-2.9-.2-7.2-.2-7.2-.2h-.1s-4.3 0-7.2.2c-.4 0-1.3.1-2.1 1C1.7 4.6 1.5 6.2 1.5 6.2S1 8 1 9.8v2.4C1 14 1.5 15.8 1.5 15.8s.2 1.6.8 2.3c.8.9 1.9.9 2.4 1 1.8.1 7.6.2 7.6.2s4.3 0 7.2-.2c.4 0 1.3-.1 2.1-1 .6-.7.8-2.3.8-2.3s.5-1.8.5-3.6V9.8c0-1.8-.5-3.6-.5-3.6zM9.8 15.5V8.5l6.2 3.5-6.2 3.5z"/></svg>
          {{ else }}
            <svg class="icon" viewBox="0 0 24 24" aria-hidden="true" role="img"><path fill="#666" d="M3 12h18v2H3z"/></svg>
          {{ end }}
          <span class="album-link-label">{{ title $k }}</span>
        </a>
      </li>
    {{ end }}
  </ul>
</div>
{{ else }}
<p>Album "{{ $id }}" not found.</p>
{{ end }}
